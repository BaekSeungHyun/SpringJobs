<!DOCTYPE html>
<html lang="en">
<head>
<title>Bootstrap Example</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
	<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.6.0/css/bootstrap-datepicker3.css" rel="stylesheet"/>
	<link rel="stylesheet" href="/view/common/login/css/frame.css">	
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
	<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>	
	<!-- bootstrap toggle -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-toggle/2.2.1/js/bootstrap-toggle.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-toggle/2.2.1/css/bootstrap-toggle.min.css" rel="stylesheet">
    <!-- bootstrap toggle end-->
    <!--파일첨부-->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-fileinput/4.3.1/css/fileinput.css" media="all" rel="stylesheet" type="text/css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-fileinput/4.3.1/js/fileinput.min.js" type="text/javascript"></script>
	
	<style>
		.adp{
			background-color: #5ab97e;
			width: 100%;
			padding: 0em 1em 1em 4em;
			color: white;
		}
		.adc{
			margin-left: 10em;
		}
		.adm{
			margin-right: 2em; 
		}
	</style>
</head>
<body>
	<div id="header"></div>
	<!--본문 시작-->
	<div class="container-fluid text-center">
		<div class="row content">
			<!--사이드바 시작-->
			<div class="col-sm-2 sidenav"></div>
			<!--사이드바 끝-->
				<!-- 본문입력 시작 -->
				<div class="col-md-8 text-left main">
					<div class="table-responsive adc">
	                    <table class="table table-bordered table-striped nanum" style="width:80%;">
	                       <tbody>
	                       <tr>
			                   <thead>
			                   	  <td>
				                     <div class="col-md-12 adp">
				                          <h1>프로젝트 등록</h1> 상세하게 작성해 주실수록 더 많은 지원자에게 노출됩니다.
				                     </div>
			                       </td>
			                   </thead>
		                   </tr>
		                   <tr> 
	                        	<td><h3>프로젝트 주제</h3>
								<input type="text" id="cpjnm" style="height:50px; width:80%" placeholder="프로젝트 주제를 입력하세요."></td>
						   </tr>
						   <tr>
						   		<td><h3>예상 기간</h3>
						   			<div class="col-md-3">
							   	   	시작일 <input class="form-control" type="date" id="cpjsd" style="width:110%">
							   	   	</div>
									<div class="col-md-3">
									종료일 <input class="form-control" type="date" id="cpjed" style="width:110%">
									</div>
						   		</td>
						   </tr>
						   <tr>		 	
						  		<td><h3>프로젝트 설명</h3>
								<textarea name="content" id="cpjint" rows="15" cols="60" placeholder="프로젝트를 설명해주세요."></textarea></td>	
	                       </tr>
		                   <tr>
		                   		<td><h3>요구되는 기술</h3>
		                   		기술명 <input type="text" id="cpjsk">
		                   		</td>   
		                   </tr>
		                   <tr>
		                   		<td><h3>프로젝트 경력여부</h3>
                                    <input class="form-control" type="checkbox" checked data-toggle="toggle" data-size="small" data-on="없음" data-off="경력" id="cpjchk" style="display:inline-block; " >
                  
                                    <div id="pre_set" > </div>
                                </td>
		                   </tr>
		                   <tr>
		                   		<td><h3>모집인원</h3>
		                   		 	<input type="text" id="cpjnpl" style="width:25%" placeholder="예) 5명일경우 5만 입력">	
		                   		</td>
		                   </tr>
		                   <tr>
		                   		<td><h3>급여</h3>
		                   		<div class="col-md-3 adm">
		                   		최소<input type="text" id="cpjmnp" style="width: 120%" placeholder="예) 1백만원일경우 1000000">
		                   		</div>
		                   		<div class="col-md-3">
		                   		최대<input type="text" id="cpjmap" style="width: 120%" placeholder="예) 2백만원일경우 2000000">
		                   		</div>
		                   		</td>
		                   </tr>
		                   <tr>
		                   		<td><h3>게시자</h3>
		                   		<input type="text" id="cpjrg" style="width: 25%" placeholder="예) 홍길동 or 비트교육센터"> 
		                   		</td>
		                   </tr>
		                   <tr>
		                   		<td><h3>근무형태</h3>
		                   			<select class="form-control" style="width:30%" id="cpjwt">
                                        <option>근무형태</option>
                                        <option>출퇴근</option>
                                        <option>자택근무</option>
                                    </select>
		                   		</td>
		                   </tr>
		                   <tr>
		                   		<td><h3>지역</h3>
		                   			<select class="form-control" style="width:30%" id="cpjar">
		                   				<option>지역</option>
                                        <option>경기</option>
                                        <option>서울</option>
                                        <option>강원</option>
                                        <option>전북</option>
                                        <option>전남</option>
                                        <option>충북</option>
                                        <option>충남</option>
                                        <option>경남</option>
                                        <option>경북</option>
                                        <option>제주</option>
                                        <option>해외</option>
                                    </select>
		                   		</td>
		                   </tr>
		                   <tr>
                                <td><h3>첨부파일 등록</h3>
                                    <div class="container kv-main col-md-12">

                                        <form enctype="multipart/form-data">
                                            <script>
                                                $(document).on('ready', function () {
                                                    $("#file-0b").fileinput();
                                                });
                                            </script>
                                        </form>

                                        <form enctype="multipart/form-data">
                                
                                                <input id="cpjfnm" class="file" type="file" multiple data-preview-file-type="any" data-upload-url="#">
                                      
                                            <div class="btn ">
                                            </div>
                                        </form>
                                    </div>
                                </td>
                            </tr>   
		                   <tr>
		                   		<td>
		                   		<button type="button" class="btn btn-default">임시저장</button> 
								<button type="button" class="btn btn-primary" id="join">등록</button> 	 
								</td>
		                   </tr>                
	                      </tbody>
	                       
						</table>
					</div>
				</div>
			<!--사이드바 시작-->
			<div class="col-sm-2 sidenav"></div>
			<!--사이드바 끝-->
		</div>
	</div>
	<div id="footer"></div>
</body>
<script>

	//추가 및 삭제 버튼
	
	$('#cpjchk').change(function(){
	   var chk = '<input class="form-control" type="text" id="cpjyr" style="width:25%" placeholder="예) 5년일경우 5 입력">';
	    
	    if($('#cpjchk').prop("checked")){
	               $('#cpjyr').remove();
	    }
	    else{
	
	          $('#pre_set').append(chk);
	    }
	});
	
	$(function(){
		$('#header').load('/view/common/login/frameHeader.html');
		$('#footer').load('/view/common/login/frameFooter.html');
	});
	
	$(document).ready(function () {
        $("#test-upload").fileinput({
            'showPreview': false
            , 'allowedFileExtensions': ['jpg', 'png', 'gif']
            , 'elErrorContainer': '#errorBlock'
        });

        //등록버튼시 이벤트
        $('#join').click(function () {
            var cpjchk;
            if ($(this).val() == 'on') {
            	cpjchk = 0;
            } else {
            	cpjchk = 1;
            }

            console.log('{"cpjnm":"' +$("#cpjnm").val() 
            		+'","cpjsd":"'+$("#cpjsd").val()
            		+'","cpjed":"'+$("#cpjed").val()
            		+'","cpjint":"'+$("#cpjint").val()
            		+'","cpjsk":"'+$("#cpjsk").val()
            		+'","cpjchk":"'+$("#cpjchk").val()
            		+'","cpjyr":"'+$("#cpjyr").val()
            		+'","cpjnpl":"'+$("#cpjnpl").val()
            		+'","cpjmnp":"'+$("#cpjmnp").val()
            		+'","cpjmap":"'+$("#cpjmap").val()
            		+'","cpjrg":"'+$("#cpjrg").val()
            		+'","cpjwt":"'+$("#cpjwt").val()
            		+'","cno":"'+user.cno
            		+'","cpjar":"' +$("#cpjar").val()+'"}')
         $.ajax({
                url: contextRoot+"/addProject"
                , method: "POST"
                , dataType: "json"
                , data: 
                	'{"cpjnm":"' +$("#cpjnm").val() 
            		+'","cpjsd":"'+$("#cpjsd").val()
            		+'","cpjed":"'+$("#cpjed").val()
            		+'","cpjint":"'+$("#cpjint").val()
            		+'","cpjchk":"'+cpjchk
            		+'","cpjnpl":"'+$("#cpjnpl").val()
            		+'","cpjmnp":"'+$("#cpjmnp").val()
            		+'","cpjmap":"'+$("#cpjmap").val()
            		+'","cpjrg":"'+$("#cpjrg").val()
            		+'","cpjwt":"'+$("#cpjwt").val()
            		+'","cno":"'+user.cno
            		+'","cpjar":"' +$("#cpjar").val()+'"}'
                , headers: {
                      "Accept": "application/json"
                    , "Content-Type": "application/json"
                },
                beforeSend : addLoading,
        		complete : removeLoading,
                success: function (data) {
                    callModal('프로젝트등록','등록완료',contextRoot+"/view/common/login/frame.html");
                }
            });
        });
    });
	
</script>

</html>